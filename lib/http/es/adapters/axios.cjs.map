{"version":3,"file":"axios.cjs","sources":["../../../../../http/es/adapters/axios.js"],"sourcesContent":["import{BaseAdapter as s}from\"./base.js\";class e extends s{constructor(s){if(super(),this.name=\"axios\",s)this.axios=s;else try{this.axios=require(\"axios\")}catch{this.axios=null}}isSupported(){return null!==this.axios}async request(s){if(!this.isSupported())throw new Error(\"Axios is not available. Please install axios: npm install axios\");const e=this.processConfig(s);try{const s=this.convertToAxiosConfig(e),r=await this.axios.request(s);return this.convertFromAxiosResponse(r,e)}catch(s){throw this.handleAxiosError(s,e)}}convertToAxiosConfig(s){let e=s.url||\"\";const r=s.params||{},t=s.baseURL,o=e.split(\"?\");if(o.length>1){e=o[0];const s=o[1];new URLSearchParams(s).forEach((s,e)=>{const t=Number(s);r[e]=Number.isNaN(t)||\"\"===s?s:t})}t&&e.startsWith(t)&&(e=e.substring(t.length),e.startsWith(\"/\")||(e=`/${e}`));const a={url:e,method:s.method};if(s.headers&&Object.keys(s.headers).length>0&&(a.headers=s.headers),void 0!==s.data&&(a.data=s.data),void 0!==s.timeout&&(a.timeout=s.timeout),t&&(a.baseURL=t),void 0!==s.withCredentials&&(a.withCredentials=s.withCredentials),s.signal&&(a.signal=s.signal),r&&Object.keys(r).length>0&&(a.params=r),s.responseType)switch(s.responseType){case\"json\":default:a.responseType=\"json\";break;case\"text\":a.responseType=\"text\";break;case\"blob\":a.responseType=\"blob\";break;case\"arrayBuffer\":a.responseType=\"arraybuffer\";break;case\"stream\":a.responseType=\"stream\"}return Object.keys(a).forEach(s=>{void 0===a[s]&&delete a[s]}),a}convertFromAxiosResponse(s,e){const r={url:e.url};return this.processResponse(s.data,s.status,s.statusText,s.headers||{},r)}handleAxiosError(s,e){if(s.response){const r=this.convertFromAxiosResponse(s.response,e),t=s.response.status,o=`Request failed with status code ${t}`,a=this.processError(new Error(o),e,r);return a.status=t,a.response=r,a}if(s.request){const r=this.processError(s,e);return r.isNetworkError=!0,r}return this.processError(s,e)}}export{e as AxiosAdapter};\n//# sourceMappingURL=axios.js.map\n"],"names":["s","e","t"],"mappings":"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"}