{"version":3,"file":"base.cjs","sources":["../../../../../http/es/adapters/base.js"],"sourcesContent":["import{buildURL as e,createHttpError as r}from\"../utils/index.js\";class t{processConfig(r){const t={...r};return t.url&&(t.url=e(t.url,t.baseURL,t.params)),t.method||(t.method=\"GET\"),t.headers||(t.headers={}),t}processResponse(e,r,t,o,s,n){return{data:e,status:r,statusText:t,headers:o,config:s,raw:n}}processError(e,t,o){let s,n=\"Request failed\";e instanceof Error?(n=e.message,s=e.code):\"string\"==typeof e&&(n=e);const a=r(n,t,s,o);return\"AbortError\"===e.name||n.includes(\"aborted\")?(a.isCancelError=!0,a.code=\"CANCELED\"):\"TimeoutError\"===e.name||n.includes(\"timeout\")?(a.isTimeoutError=!0,a.code=\"TIMEOUT\"):(n.includes(\"Network\")||n.includes(\"fetch\"))&&(a.isNetworkError=!0,a.code=\"NETWORK_ERROR\"),a}createTimeoutController(e){const r=new AbortController;let t;return e&&e>0&&(t=setTimeout(()=>{r&&\"function\"==typeof r.abort&&r.abort()},e)),{signal:r.signal,cleanup:()=>{t&&clearTimeout(t)}}}mergeAbortSignals(e){const r=e.filter(e=>void 0!==e);if(0===r.length)return(new AbortController).signal;if(1===r.length)return r[0];const t=new AbortController,o=()=>{t.abort()};return r.forEach(e=>{e.aborted?t.abort():e.addEventListener(\"abort\",o,{once:!0})}),t.signal}parseHeaders(e){const r={};return e instanceof Headers?e.forEach((e,t)=>{r[t.toLowerCase()]=e}):Object.keys(e).forEach(t=>{const o=e[t];void 0!==o&&(r[t.toLowerCase()]=o)}),r}}export{t as BaseAdapter};\n//# sourceMappingURL=base.js.map\n"],"names":["r","t","e"],"mappings":"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"}