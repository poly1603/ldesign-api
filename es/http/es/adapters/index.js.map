{"version":3,"file":"index.js","sources":["../../../../../http/es/adapters/index.js"],"sourcesContent":["import{AlovaAdapter as t}from\"./alova.js\";import{AxiosAdapter as a}from\"./axios.js\";import{FetchAdapter as e}from\"./fetch.js\";import{BaseAdapter as r}from\"./base.js\";class i{static register(t,a){this.adapters.set(t,a)}static create(t){if(this.adapterCache.has(t))return this.adapterCache.get(t);const a=this.adapters.get(t);if(!a)throw new Error(`Unknown adapter: ${t}`);const e=a();if(!e.isSupported())throw new Error(`Adapter '${t}' is not supported in current environment`);return this.adapterCache.set(t,e),e}static getAvailable(){const t=[];return this.adapters.forEach((a,e)=>{if(this.availabilityCache.has(e))this.availabilityCache.get(e)&&t.push(e);else try{const r=a().isSupported();this.availabilityCache.set(e,r),r&&t.push(e)}catch{this.availabilityCache.set(e,!1)}}),t}static getDefault(){const t=this.getAvailable();if(0===t.length)throw new Error(\"No available HTTP adapter found\");const a=[\"fetch\",\"axios\",\"alova\"];for(const e of a)if(t.includes(e))return this.create(e);return this.create(t[0])}static getRegistered(){return Array.from(this.adapters.keys())}static clearCache(){this.adapterCache.clear(),this.availabilityCache.clear()}static warmup(){this.getAvailable()}}function s(t){if(!t)return i.getDefault();if(\"string\"==typeof t)return i.create(t);if(\"object\"==typeof t&&\"request\"in t&&\"isSupported\"in t)return t;throw new Error(\"Invalid adapter configuration\")}function o(t){try{return i.create(t).isSupported()}catch{return!1}}i.adapters=new Map([[\"fetch\",()=>new e],[\"axios\",()=>new a],[\"alova\",()=>new t]]),i.adapterCache=new Map,i.availabilityCache=new Map;export{i as AdapterFactory,t as AlovaAdapter,a as AxiosAdapter,r as BaseAdapter,e as FetchAdapter,s as createAdapter,o as isAdapterAvailable};\n//# sourceMappingURL=index.js.map\n"],"names":["t","a","e","r"],"mappings":"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"}